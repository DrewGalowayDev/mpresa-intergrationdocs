<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M-Pesa API Documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <style>
        :root {
            --primary: #0d9488;
            --primary-dark: #0f766e;
            --secondary: #334155;
            --light: #f8fafc;
            --dark: #0f172a;
            --gray: #94a3b8;
            --border: #e2e8f0;
            --sidebar-width: 280px;
            --header-height: 64px;
            --header-bg: #0d9488;
            --header-text: #fff;
            --header-border: #0f766e;
        }

        body.theme-dark {
            --header-bg: #0d9488;
            --header-text: #fff;
            --header-border: #0f766e;
        }
        body.theme-light {
            --header-bg: #f8fafc;
            --header-text: #0d9488;
            --header-border: #e2e8f0;
        }
        
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            background-color: #f1f5f9;
            color: var(--dark);
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar Styles */
        .sidebar {
            width: var(--sidebar-width);
            background: white;
            border-right: 1px solid var(--border);
            height: 100vh;
            position: fixed;
            overflow-y: auto;
            padding: 20px 0;
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .logo {
            padding: 0 20px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid var(--border);
            margin-bottom: 20px;
        }
        
        .logo-icon {
            background: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
        }
        
        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
        }
        
        .sidebar-section {
            margin-bottom: 24px;
        }
        
        .sidebar-title {
            padding: 8px 20px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--gray);
            font-weight: 600;
        }
        
        .sidebar-links {
            list-style: none;
        }
        
        .sidebar-link {
            padding: 10px 20px 10px 30px;
            display: flex;
            align-items: center;
            color: var(--secondary);
            text-decoration: none;
            transition: all 0.2s;
            font-size: 15px;
            position: relative;
            cursor: pointer;
        }
        
        .sidebar-link:hover {
            background: rgba(13, 148, 136, 0.1);
            color: var(--primary);
        }
        
        .sidebar-link.active {
            background: rgba(13, 148, 136, 0.1);
            color: var(--primary);
            font-weight: 600;
        }
        
        .sidebar-link.active:before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: var(--primary);
        }
        
        .sidebar-link i {
            margin-right: 12px;
            width: 20px;
            text-align: center;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 20px 40px;
        }
        
        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }
        
        .header-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--dark);
        }
        
        .search-box {
            position: relative;
            width: 300px;
        }
        
        .search-box input {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 15px;
            outline: none;
            transition: all 0.3s;
        }
        
        .search-box input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.2);
        }
        
        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }
        
        /* Documentation Content */
        .content-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 30px;
            margin-bottom: 30px;
            scroll-margin-top: 20px;
        }
        
        .card-header {
            margin-bottom: 20px;
        }
        
        .card-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .card-title i {
            color: var(--primary);
        }
        
        .card-subtitle {
            font-size: 16px;
            color: var(--secondary);
            margin-top: 8px;
            line-height: 1.6;
        }
        
        .divider {
            height: 1px;
            background: var(--border);
            margin: 25px 0;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--dark);
        }
        
        .section-content {
            line-height: 1.7;
            color: var(--secondary);
            margin-bottom: 24px;
        }
        
        .code-block {
            background: #282c34;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            font-size: 14px;
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 14px;
            right: 14px;
            background: #0d9488;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 6px 14px;
            font-size: 13px;
            cursor: pointer;
            opacity: 0.85;
            transition: background 0.2s, opacity 0.2s;
            z-index: 2;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .copy-btn:hover {
            background: #0f766e;
            opacity: 1;
        }
        
        .endpoint {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .endpoint-header {
            background: #f1f5f9;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid var(--border);
        }
        
        .method {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 13px;
            font-weight: 600;
            color: white;
        }
        
        .method.get {
            background: #10b981;
        }
        
        .method.post {
            background: #f59e0b;
        }
        
        .endpoint-url {
            font-family: monospace;
            font-size: 15px;
        }
        
        .endpoint-body {
            padding: 20px;
        }
        
        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .param-table th, .param-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        .param-table th {
            background: #f8fafc;
            font-weight: 600;
            color: var(--dark);
        }
        
        .param-table td {
            color: var(--secondary);
        }
        
        .required {
            color: #ef4444;
            font-size: 12px;
        }
        
        .alert {
            padding: 16px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid;
        }
        
        .alert.info {
            background: #e0f2fe;
            border-color: #0284c7;
            color: #0c4a6e;
        }
        
        .alert.warning {
            background: #fef3c7;
            border-color: #f59e0b;
            color: #92400e;
        }
        
        .alert.success {
            background: #d1fae5;
            border-color: #10b981;
            color: #065f46;
        }
        
        .steps {
            counter-reset: step-counter;
        }
        
        .step {
            counter-increment: step-counter;
            position: relative;
            padding-left: 50px;
            margin-bottom: 20px;
        }
        
        .step::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .error-codes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .error-card {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
            padding: 16px;
        }
        
        .error-code {
            font-family: monospace;
            font-weight: bold;
            color: #dc2626;
            font-size: 16px;
            margin-bottom: 8px;
        }
        
        .error-message {
            color: #7f1d1d;
            font-size: 14px;
        }
        
        /* Mobile Toggle */
        .mobile-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 101;
            background: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
        }
        
        /* Responsive */
        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .mobile-toggle {
                display: flex;
            }
            
            .search-box {
                width: 200px;
            }
        }
        
        @media (max-width: 768px) {
            .main-content {
                padding: 20px;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }
            
            .search-box {
                width: 100%;
            }
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
            color: #333;
        }
        
        .content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px;
            text-align: center;
        }
        
        .content h1 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            color: #0d9488;
        }
        
        .content p {
            font-size: 1.2rem;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto 30px;
            color: #555;
        }
        
        .features {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
            margin-top: 50px;
        }
        
        .feature-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 280px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
        }
        
        .feature-card i {
            font-size: 3rem;
            color: #0d9488;
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #1a1a1a;
        }
        
        .feature-card p {
            font-size: 1rem;
            color: #666;
            margin-bottom: 0;
        }
        
        /* Footer Styles */
        .footer {
            background: linear-gradient(135deg, #0d9488 0%, #0a7c72 100%);
            color: #fff;
            padding: 60px 0 30px;
            position: relative;
            overflow: hidden;
        }
        
        .footer::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
        }
        
        .footer-brand {
            display: flex;
            flex-direction: column;
        }
        
        .logo {
            font-size: 2.2rem;
            font-weight: 800;
            letter-spacing: 1px;
            margin-bottom: 15px;
        }
        
        .logo a {
            color: #fff;
            text-decoration: none;
            display: inline-block;
            position: relative;
            padding-bottom: 5px;
        }
        
        .logo a::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: #ffd166;
        }
        
        .tagline {
            font-size: 1.1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 25px;
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
        }
        
        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 42px;
            height: 42px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: #fff;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }
        
        .social-icons a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }
        
        .footer-heading {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-heading::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background: #ffd166;
        }
        
        .contact-info {
            list-style: none;
        }
        
        .contact-info li {
            display: flex;
            align-items: flex-start;
            margin-bottom: 18px;
            line-height: 1.5;
        }
        
        .contact-info i {
            font-size: 1.1rem;
            color: #ffd166;
            margin-right: 15px;
            margin-top: 4px;
        }
        
        .contact-info a {
            color: rgba(255, 255, 255, 0.85);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .contact-info a:hover {
            color: #fff;
            text-decoration: underline;
        }
        
        .quick-links {
            list-style: none;
        }
        
        .quick-links li {
            margin-bottom: 15px;
        }
        
        .quick-links a {
            color: rgba(255, 255, 255, 0.85);
            text-decoration: none;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .quick-links a:hover {
            color: #fff;
            padding-left: 5px;
        }
        
        .quick-links a::before {
            content: "›";
            margin-right: 10px;
            color: #ffd166;
            font-size: 1.2rem;
        }
        
        .newsletter p {
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .subscribe-form {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .subscribe-form input {
            padding: 14px 15px;
            border: none;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
        }
        
        .subscribe-form input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .subscribe-form button {
            padding: 14px 20px;
            background: #ffd166;
            color: #0a7c72;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .subscribe-form button:hover {
            background: #ffc44d;
            transform: translateY(-2px);
        }
        
        .footer-bottom {
            max-width: 1200px;
            margin: 50px auto 0;
            padding: 25px 20px 0;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .footer-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .content h1 {
                font-size: 2.2rem;
            }
            
            .feature-card {
                width: 100%;
                max-width: 350px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="simple-green-header" style="background: var(--header-bg); color: var(--header-text); padding: 24px 0 16px; margin-bottom: 0; border-bottom: 2px solid var(--header-border);">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 24px; display: flex; align-items: center; justify-content: space-between;">
            <div style="font-size: 2.1rem; font-weight: 800; letter-spacing: 1px;">
                <a href="#" style="color: var(--header-text); text-decoration: none; margin-left: 50px;">M-Pesa API Docs</a>
            </div>
            <button id="themeToggle" aria-label="Toggle theme" style="background: none; border: none; color: var(--header-text); font-size: 1.5rem; cursor: pointer; display: flex; align-items: center; gap: 8px; padding: 8px 16px; border-radius: 6px; transition: background 0.2s;">
                <span id="themeIcon" class="fas fa-moon"></span>
                <span id="themeText" style="font-size: 1rem;">Dark</span>
            </button>
        </div>
    </header>
    <!-- Mobile Toggle -->
    <div class="mobile-toggle" id="mobileToggle">
        <i class="fas fa-bars"></i>
    </div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <div class="logo-icon">M$</div>
            <div class="logo-text">M-Pesa Docs</div>
        </div>
        
        <div class="sidebar-section">
            <div class="sidebar-title">Getting Started</div>
            <ul class="sidebar-links">
                <li><a class="sidebar-link active" data-target="introduction"><i class="fas fa-home"></i> Introduction</a></li>
                <li><a class="sidebar-link" data-target="authentication"><i class="fas fa-key"></i> Authentication</a></li>
                <li><a class="sidebar-link" data-target="integration"><i class="fas fa-plug"></i> API Integration</a></li>
                <li><a class="sidebar-link" data-target="security"><i class="fas fa-shield-alt"></i> Security</a></li>
            </ul>
        </div>
        
        <div class="sidebar-section">
            <div class="sidebar-title">API Reference</div>
            <ul class="sidebar-links">
                <li><a class="sidebar-link" data-target="b2c"><i class="fas fa-exchange-alt"></i> B2C Payments</a></li>
                <li><a class="sidebar-link" data-target="c2b"><i class="fas fa-shopping-cart"></i> C2B Payments</a></li>
                <li><a class="sidebar-link" data-target="balance"><i class="fas fa-money-bill-wave"></i> Account Balance</a></li>
                <li><a class="sidebar-link" data-target="status"><i class="fas fa-history"></i> Transaction Status</a></li>
                <li><a class="sidebar-link" data-target="reversal"><i class="fas fa-undo"></i> Reversal API</a></li>
                <li><a class="sidebar-link" data-target="qr"><i class="fas fa-qrcode"></i> QR Payments</a></li>
            </ul>
        </div>
        
        <div class="sidebar-section">
            <div class="sidebar-title">Help & Support</div>
            <ul class="sidebar-links">
                <li><a class="sidebar-link" data-target="faqs"><i class="fas fa-question-circle"></i> FAQs</a></li>
                <li><a class="sidebar-link" data-target="tutorials"><i class="fas fa-book"></i> Tutorials</a></li>
                <li><a class="sidebar-link" data-target="support"><i class="fas fa-phone-alt"></i> Contact Support</a></li>
                <li><a class="sidebar-link" data-target="errors"><i class="fas fa-exclamation-triangle"></i> Error Codes</a></li>
            </ul>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1 class="header-title">M-Pesa API Documentation</h1>
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search documentation..." id="searchInput">
            </div>
        </div>

        <!-- Introduction Section -->
        <div class="content-card" id="introduction">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-home"></i> Introduction to M-Pesa API</h2>
                <p class="card-subtitle">The M-Pesa API allows developers to integrate mobile money services into their applications. This documentation provides technical details for implementing M-Pesa payment solutions.</p>
            </div>
            
            <div class="divider"></div>
            
        <!-- Ensure all sidebar sections exist (placeholders if missing) -->
        <!-- (No duplicate sections will be rendered if already present) -->
        <!-- End ensure all sidebar sections exist -->
            <div>

    <!-- Sidebar Navigation & Copy-to-Clipboard Script -->
    <script>
    // Sidebar navigation and active state
    document.querySelectorAll('.sidebar-link').forEach(function(link) {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            var target = link.getAttribute('data-target');
            var section = document.getElementById(target);
            if (section) {
                window.scrollTo({
                    top: section.offsetTop - 20,
                    behavior: 'smooth'
                });
            }
            // Remove active from all links
            document.querySelectorAll('.sidebar-link').forEach(function(l) {
                l.classList.remove('active');
            });
            // Set active on clicked link
            link.classList.add('active');
        });
    });

    // Highlight sidebar link on scroll
    window.addEventListener('scroll', function() {
        var fromTop = window.scrollY + 80;
        document.querySelectorAll('.sidebar-link').forEach(function(link) {
            var target = link.getAttribute('data-target');
            var section = document.getElementById(target);
            if (section) {
                if (section.offsetTop <= fromTop && section.offsetTop + section.offsetHeight > fromTop) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            }
        });
    });

    // Mobile sidebar toggle
    document.getElementById('mobileToggle').addEventListener('click', function() {
        document.getElementById('sidebar').classList.toggle('active');
    });
    // Search bar functionality
    document.getElementById('searchInput').addEventListener('input', function(e) {
        var query = e.target.value.trim().toLowerCase();
        var cards = document.querySelectorAll('.content-card');
        var anyMatch = false;
        cards.forEach(function(card) {
            // Search in all text content of the card
            var text = card.innerText.toLowerCase();
            if (query && text.includes(query)) {
                card.style.display = '';
                // Optionally highlight section titles
                card.querySelectorAll('.section-title').forEach(function(title) {
                    var t = title.innerText.toLowerCase();
                    if (t.includes(query)) {
                        title.style.background = '#fef3c7';
                        title.style.color = '#92400e';
                    } else {
                        title.style.background = '';
                        title.style.color = '';
                    }
                });
                anyMatch = true;
            } else if (query) {
                card.style.display = 'none';
            } else {
                card.style.display = '';
                card.querySelectorAll('.section-title').forEach(function(title) {
                    title.style.background = '';
                    title.style.color = '';
                });
            }
        });
        // Optionally, scroll to first match
        if (anyMatch && query) {
            var first = Array.from(cards).find(function(card) { return card.style.display !== 'none'; });
            if (first) {
                window.scrollTo({
                    top: first.offsetTop - 20,
                    behavior: 'smooth'
                });
            }
        }
    });

    // Add copy buttons to all code blocks
    function addCopyButtons() {
        document.querySelectorAll('.code-block').forEach(function(block) {
            // Avoid duplicate buttons
            if (block.querySelector('.copy-btn')) return;
            var btn = document.createElement('button');
            btn.className = 'copy-btn';
            btn.innerHTML = '<i class="fas fa-copy"></i> Copy';
            btn.title = 'Copy code';
            btn.addEventListener('click', function() {
                var code = block.querySelector('code');
                if (code) {
                    var text = code.innerText;
                    if (navigator.clipboard) {
                        navigator.clipboard.writeText(text).then(function() {
                            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                            setTimeout(function() {
                                btn.innerHTML = '<i class="fas fa-copy"></i> Copy';
                            }, 1200);
                        });
                    } else {
                        // Fallback for older browsers
                        var textarea = document.createElement('textarea');
                        textarea.value = text;
                        document.body.appendChild(textarea);
                        textarea.select();
                        try { document.execCommand('copy'); } catch (e) {}
                        document.body.removeChild(textarea);
                        btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                        setTimeout(function() {
                            btn.innerHTML = '<i class="fas fa-copy"></i> Copy';
                        }, 1200);
                    }
                }
            });
            block.appendChild(btn);
        });
    }
    // Theme toggle logic
    function setTheme(theme) {
        document.body.classList.remove('theme-dark', 'theme-light');
        document.body.classList.add(theme);
        // Update button icon/text
        var icon = document.getElementById('themeIcon');
        var text = document.getElementById('themeText');
        if (theme === 'theme-dark') {
            icon.className = 'fas fa-moon';
            text.textContent = 'Dark';
        } else {
            icon.className = 'fas fa-sun';
            text.textContent = 'Light';
        }
        // Save preference
        localStorage.setItem('theme', theme);
    }
    function initThemeToggle() {
        var btn = document.getElementById('themeToggle');
        if (!btn) return;
        btn.addEventListener('click', function() {
            var current = document.body.classList.contains('theme-dark') ? 'theme-dark' : 'theme-light';
            setTheme(current === 'theme-dark' ? 'theme-light' : 'theme-dark');
        });
        // Load saved theme or default to dark
        var saved = localStorage.getItem('theme');
        if (saved === 'theme-light' || saved === 'theme-dark') {
            setTheme(saved);
        } else {
            setTheme('theme-dark');
        }
    }
    // Run after DOM is loaded
    function onReady() {
        addCopyButtons();
        initThemeToggle();
    }
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', onReady);
    } else {
        onReady();
    }
    </script>
    
                <h3 class="section-title">Overview</h3>
                <p class="section-content">
                    M-Pesa is a mobile phone-based money transfer service that enables users to deposit, withdraw, transfer money, and pay for goods and services. The M-Pesa API provides endpoints to integrate these services into your application, allowing you to send and receive money, check transaction status, and manage payments programmatically.
                </p>
                
                <h3 class="section-title">Key Features</h3>
                <ul class="section-content" style="padding-left: 20px;">
                    <li>Send money to mobile numbers (B2C)</li>
                    <li>Receive payments from customers (C2B)</li>
                    <li>Check account balance</li>
                    <li>Verify transaction status</li>
                    <li>Reverse transactions</li>
                    <li>Generate and process QR payments</li>
                    <li>Secure authentication with OAuth 2.0</li>
                </ul>
                
                <h3 class="section-title">Base URL</h3>
                <div class="code-block">
                    <pre><code>https://api.safaricom.co.ke</code></pre>
                </div>
            </div>
        </div>

        <!-- Authentication Section -->
        <div class="content-card" id="authentication">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-key"></i> Authentication</h2>
                <p class="card-subtitle">All API requests require authentication using OAuth 2.0. You'll need to obtain an access token before making any API calls.</p>
            </div>
            
            <div class="alert info">
                <strong>Note:</strong> Access tokens expire after 1 hour. Implement token refresh logic in your application.
            </div>
            
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-url">/oauth/v1/generate?grant_type=client_credentials</span>
                </div>
                <div class="endpoint-body">
                    <h3 class="section-title">Headers</h3>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Header</th>
                                <th>Value</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Authorization</td>
                                <td>Basic {credentials}</td>
                                <td>Base64 encoded consumer_key:consumer_secret</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3 class="section-title">Example Request</h3>
                    <div class="code-block">
                        <pre><code class="language-bash">curl -X GET 'https://api.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials' \
-H 'Authorization: Basic YOUR_ENCODED_CREDENTIALS'</code></pre>
                    </div>
                    
                    <h3 class="section-title">Example Response</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9...",
  "expires_in": "3599"
}</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Account Balance Section -->
        <div class="content-card" id="balance">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-money-bill-wave"></i> Account Balance API</h2>
                <p class="card-subtitle">The Account Balance API enables you to enquire the balance on an M-Pesa BuyGoods (Till Number).</p>
            </div>
            
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-url">/mpesa/accountbalance/v1/query</span>
                </div>
                <div class="endpoint-body">
                    <h3 class="section-title">Request Parameters</h3>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Initiator</td>
                                <td>string</td>
                                <td>The name of the initiator to initiate the request</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>SecurityCredential</td>
                                <td>string</td>
                                <td>Encrypted security credential</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>CommandID</td>
                                <td>string</td>
                                <td>A unique command passed to the M-Pesa system (AccountBalance)</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>PartyA</td>
                                <td>string</td>
                                <td>Type of organization receiving the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>IdentifierType</td>
                                <td>string</td>
                                <td>Type of organization receiving the transaction (1-MSISDN, 2-Till Number, 4-Organization short code)</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Remarks</td>
                                <td>string</td>
                                <td>Comments that are sent along with the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>QueueTimeOutURL</td>
                                <td>string</td>
                                <td>The timeout end-point that receives a timeout response</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>ResultURL</td>
                                <td>string</td>
                                <td>The end-point that receives the response</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3 class="section-title">Example Request</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "Initiator": "testapi",
  "SecurityCredential": "encrypted_credential_here",
  "CommandID": "AccountBalance",
  "PartyA": 600123,
  "IdentifierType": "4",
  "Remarks": "Account balance inquiry",
  "QueueTimeOutURL": "https://yourapp.com/timeout",
  "ResultURL": "https://yourapp.com/result"
}</code></pre>
                    </div>
                    
                    <h3 class="section-title">Example Response</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "OriginatorConversationID": "16813-67861-2",
  "ConversationID": "AG_20210826_00006a4c2c8a5b5b7dc8",
  "ResponseCode": "0",
  "ResponseDescription": "Accept the service request successfully."
}</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transaction Status Section -->
        <div class="content-card" id="status">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-history"></i> Transaction Status API</h2>
                <p class="card-subtitle">Use this API to check the status of a transaction that has been processed by M-Pesa.</p>
            </div>
            
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-url">/mpesa/transactionstatus/v1/query</span>
                </div>
                <div class="endpoint-body">
                    <h3 class="section-title">Request Parameters</h3>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Initiator</td>
                                <td>string</td>
                                <td>The name of the initiator to initiate the request</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>SecurityCredential</td>
                                <td>string</td>
                                <td>Encrypted security credential</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>CommandID</td>
                                <td>string</td>
                                <td>Unique command for each transaction (TransactionStatusQuery)</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>TransactionID</td>
                                <td>string</td>
                                <td>Unique identifier to identify a transaction on M-Pesa</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>PartyA</td>
                                <td>string</td>
                                <td>Organization receiving the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>IdentifierType</td>
                                <td>string</td>
                                <td>Type of organization receiving the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>ResultURL</td>
                                <td>string</td>
                                <td>The path that stores information of transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>QueueTimeOutURL</td>
                                <td>string</td>
                                <td>The path that stores information of timeout transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Remarks</td>
                                <td>string</td>
                                <td>Comments that are sent along with the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Occasion</td>
                                <td>string</td>
                                <td>Optional parameter</td>
                                <td>No</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3 class="section-title">Example Request</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "Initiator": "testapi",
  "SecurityCredential": "encrypted_credential_here",
  "CommandID": "TransactionStatusQuery",
  "TransactionID": "MPE1234567890",
  "PartyA": 600123,
  "IdentifierType": "4",
  "ResultURL": "https://yourapp.com/result",
  "QueueTimeOutURL": "https://yourapp.com/timeout",
  "Remarks": "Transaction status query",
  "Occasion": "Status check"
}</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reversal API Section -->
        <div class="content-card" id="reversal">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-undo"></i> Reversal API</h2>
                <p class="card-subtitle">The Reversal API reverses a B2B, B2C or C2B M-Pesa transaction.</p>
            </div>
            
            <div class="alert warning">
                <strong>Warning:</strong> Reversals can only be done within 24 hours of the original transaction and require proper authorization.
            </div>
            
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-url">/mpesa/reversal/v1/request</span>
                </div>
                <div class="endpoint-body">
                    <h3 class="section-title">Request Parameters</h3>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Initiator</td>
                                <td>string</td>
                                <td>The name of the initiator to initiate the request</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>SecurityCredential</td>
                                <td>string</td>
                                <td>Encrypted security credential</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>CommandID</td>
                                <td>string</td>
                                <td>Unique command for each transaction (TransactionReversal)</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>TransactionID</td>
                                <td>string</td>
                                <td>Unique identifier to identify a transaction on M-Pesa</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Amount</td>
                                <td>integer</td>
                                <td>Amount being reversed</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>ReceiverParty</td>
                                <td>string</td>
                                <td>Organization receiving the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>RecieverIdentifierType</td>
                                <td>string</td>
                                <td>Type of organization receiving the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>ResultURL</td>
                                <td>string</td>
                                <td>The path that stores information of transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>QueueTimeOutURL</td>
                                <td>string</td>
                                <td>The path that stores information of timeout transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Remarks</td>
                                <td>string</td>
                                <td>Comments that are sent along with the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Occasion</td>
                                <td>string</td>
                                <td>Optional parameter</td>
                                <td>No</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3 class="section-title">Example Request</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "Initiator": "testapi",
  "SecurityCredential": "encrypted_credential_here",
  "CommandID": "TransactionReversal",
  "TransactionID": "MPE1234567890",
  "Amount": 1500,
  "ReceiverParty": 600123,
  "RecieverIdentifierType": "4",
  "ResultURL": "https://yourapp.com/result",
  "QueueTimeOutURL": "https://yourapp.com/timeout",
  "Remarks": "Transaction reversal",
  "Occasion": "Refund request"
}</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- QR Payments Section -->
        <div class="content-card" id="qr">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-qrcode"></i> QR Payments API</h2>
                <p class="card-subtitle">The QR Code API enables merchants to generate QR codes for customer payments.</p>
            </div>
            
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-url">/mpesa/qrcode/v1/generate</span>
                </div>
                <div class="endpoint-body">
                    <h3 class="section-title">Request Parameters</h3>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>MerchantName</td>
                                <td>string</td>
                                <td>The name of the company/organization</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>RefNo</td>
                                <td>string</td>
                                <td>Transaction reference</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Amount</td>
                                <td>integer</td>
                                <td>The total amount for the sale/transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>TrxCode</td>
                                <td>string</td>
                                <td>Transaction Type (BG for Buy Goods, WA for Withdraw Cash, PB for PayBill, SM for Send Money)</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>CPI</td>
                                <td>string</td>
                                <td>Credit Party Identifier (Till Number or PayBill Number)</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Size</td>
                                <td>string</td>
                                <td>Size of the QR code image (300 recommended)</td>
                                <td>No</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3 class="section-title">Example Request</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "MerchantName": "TEST SUPERMARKET",
  "RefNo": "Invoice001",
  "Amount": 2500,
  "TrxCode": "BG",
  "CPI": "174379",
  "Size": "300"
}</code></pre>
                    </div>
                    
                    <h3 class="section-title">Example Response</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "ResponseCode": "00",
  "RequestID": "QRCode_2021_08_26_14_30_00",
  "ResponseDescription": "The service request has been accepted successfully.",
  "QRCode": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."
}</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAQs Section -->
        <div class="content-card" id="faqs">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-question-circle"></i> Frequently Asked Questions</h2>
                <p class="card-subtitle">Common questions and answers about M-Pesa API integration.</p>
            </div>
            
            <h3 class="section-title">How do I get started with M-Pesa API?</h3>
            <p class="section-content">
                To get started, visit the Safaricom Developer Portal, create an account, and register your application. You'll receive Consumer Key and Consumer Secret credentials for sandbox testing.
            </p>
            
            <h3 class="section-title">What is the difference between sandbox and production?</h3>
            <p class="section-content">
                Sandbox is a test environment where you can test your integration without processing real money. Production is the live environment where real transactions occur. Always test thoroughly in sandbox before moving to production.
            </p>
            
            <h3 class="section-title">How long do access tokens last?</h3>
            <p class="section-content">
                Access tokens expire after 1 hour (3600 seconds). Implement automatic token refresh in your application to ensure continuous operation.
            </p>
            
            <h3 class="section-title">Can I reverse a transaction?</h3>
            <p class="section-content">
                Yes, but only within 24 hours of the original transaction. Use the Reversal API with proper authorization. Not all transactions can be reversed - check the specific transaction type requirements.
            </p>
            
            <h3 class="section-title">What happens if my callback URL is down?</h3>
            <p class="section-content">
                M-Pesa will retry sending callbacks for up to 24 hours. Ensure your callback URLs are highly available and implement proper error handling and logging.
            </p>
            
            <h3 class="section-title">How do I handle duplicate transactions?</h3>
            <p class="section-content">
                Always use unique reference numbers for each transaction and implement idempotency checks in your system. Store transaction references to prevent duplicate processing.
            </p>
        </div>

        <!-- Tutorials Section -->
        <div class="content-card" id="tutorials">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-book"></i> Tutorials</h2>
                <p class="card-subtitle">Step-by-step tutorials to help you implement M-Pesa API features.</p>
            </div>
            
            <h3 class="section-title">Tutorial 1: Setting Up Your First Payment</h3>
            <div class="steps">
                <div class="step">
                    <h4>Create Developer Account</h4>
                    <p class="section-content">Register at the Safaricom Developer Portal and create a new app.</p>
                </div>
                <div class="step">
                    <h4>Get Your Credentials</h4>
                    <p class="section-content">Note down your Consumer Key and Consumer Secret from the app dashboard.</p>
                </div>
                <div class="step">
                    <h4>Generate Access Token</h4>
                    <p class="section-content">Use the OAuth endpoint to generate your first access token.</p>
                </div>
                <div class="step">
                    <h4>Make Your First API Call</h4>
                    <p class="section-content">Test the Account Balance API to verify your integration is working.</p>
                </div>
            </div>
            
            <h3 class="section-title">Tutorial 2: Implementing STK Push</h3>
            <div class="alert info">
                <strong>STK Push</strong> allows you to initiate payments directly from the customer's phone by sending them a payment prompt.
            </div>
            
            <div class="code-block">
                <pre><code class="language-javascript">// Example STK Push implementation in Node.js
const axios = require('axios');

async function stkPush(phone, amount, reference) {
  const timestamp = new Date().toISOString().replace(/[^0-9]/g, '').slice(0, -3);
  const password = Buffer.from(`${shortcode}${passkey}${timestamp}`).toString('base64');
  
  const payload = {
    BusinessShortCode: shortcode,
    Password: password,
    Timestamp: timestamp,
    TransactionType: "CustomerPayBillOnline",
    Amount: amount,
    PartyA: phone,
    PartyB: shortcode,
    PhoneNumber: phone,
    CallBackURL: "https://yourapp.com/callback",
    AccountReference: reference,
    TransactionDesc: "Payment"
  };
  
  const response = await axios.post(
    'https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest',
    payload,
    {
      headers: {
        'Authorization': `Bearer ${accessToken}`,
        'Content-Type': 'application/json'
      }
    }
  );
  
  return response.data;
}</code></pre>
            </div>
            
            <h3 class="section-title">Tutorial 3: Handling Callbacks</h3>
            <p class="section-content">
                Proper callback handling is crucial for transaction verification. Always validate callbacks and update your system accordingly.
            </p>
            
            <div class="code-block">
                <pre><code class="language-javascript">// Example callback handler
app.post('/callback', (req, res) => {
  const { Body } = req.body;
  
  if (Body.stkCallback) {
    const { MerchantRequestID, CheckoutRequestID, ResultCode, ResultDesc } = Body.stkCallback;
    
    if (ResultCode === 0) {
      // Transaction successful
      console.log('Payment successful:', MerchantRequestID);
      // Update your database
    } else {
      // Transaction failed
      console.log('Payment failed:', ResultDesc);
    }
  }
  
  res.status(200).json({ success: true });
});</code></pre>
            </div>
        </div>

        <!-- Contact Support Section -->
        <div class="content-card" id="support">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-phone-alt"></i> Contact Support</h2>
                <p class="card-subtitle">Get help with your M-Pesa API integration from our support team.</p>
            </div>
            
            <div class="alert success">
                <strong>Support Hours:</strong> Monday to Friday, 8:00 AM - 6:00 PM EAT
            </div>
            
            <h3 class="section-title">Support Channels</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid var(--primary);">
                    <h4 style="color: var(--primary); margin-bottom: 10px;"><i class="fas fa-envelope"></i> Email Support</h4>
                    <p style="margin: 0; color: var(--secondary);">apisupport@safaricom.co.ke</p>
                    <p style="margin: 5px 0 0; font-size: 14px; color: var(--gray);">Response within 24 hours</p>
                </div>
                
                <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid var(--primary);">
                    <h4 style="color: var(--primary); margin-bottom: 10px;"><i class="fas fa-phone"></i> Phone Support</h4>
                    <p style="margin: 0; color: var(--secondary);">+254 722 000 000</p>
                    <p style="margin: 5px 0 0; font-size: 14px; color: var(--gray);">Available during business hours</p>
                </div>
                
                <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid var(--primary);">
                    <h4 style="color: var(--primary); margin-bottom: 10px;"><i class="fas fa-comments"></i> Developer Portal</h4>
                    <p style="margin: 0; color: var(--secondary);">Submit a ticket online</p>
                    <p style="margin: 5px 0 0; font-size: 14px; color: var(--gray);">Track your support requests</p>
                </div>
            </div>
            
            <h3 class="section-title">Before Contacting Support</h3>
            <ul class="section-content" style="padding-left: 20px;">
                <li>Check the status page for any ongoing issues</li>
                <li>Review the error codes section for common issues</li>
                <li>Ensure you're using the correct endpoint URLs</li>
                <li>Verify your credentials and access tokens</li>
                <li>Check your callback URL is accessible</li>
            </ul>
            
            <h3 class="section-title">Information to Include</h3>
            <p class="section-content">
                When contacting support, please include:
            </p>
            <ul class="section-content" style="padding-left: 20px;">
                <li>Your app name and consumer key (never share consumer secret)</li>
                <li>Transaction ID or reference number</li>
                <li>Error message and response code</li>
                <li>Timestamp of the issue</li>
                <li>Steps to reproduce the problem</li>
            </ul>
        </div>

        <!-- Error Codes Section -->
        <div class="content-card" id="errors">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-exclamation-triangle"></i> Error Codes</h2>
                <p class="card-subtitle">Common error codes and their solutions when integrating with M-Pesa API.</p>
            </div>
            
            <h3 class="section-title">HTTP Status Codes</h3>
            <table class="param-table">
                <thead>
                    <tr>
                        <th>Status Code</th>
                        <th>Description</th>
                        <th>Solution</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>200</td>
                        <td>Success</td>
                        <td>Request processed successfully</td>
                    </tr>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>Check your request parameters and format</td>
                    </tr>
                    <tr>
                        <td>401</td>
                        <td>Unauthorized</td>
                        <td>Check your access token or credentials</td>
                    </tr>
                    <tr>
                        <td>403</td>
                        <td>Forbidden</td>
                        <td>Insufficient permissions for the operation</td>
                    </tr>
                    <tr>
                        <td>500</td>
                        <td>Internal Server Error</td>
                        <td>Contact support if the issue persists</td>
                    </tr>
                </tbody>
            </table>
            
            <h3 class="section-title">M-Pesa Specific Error Codes</h3>
            <div class="error-codes">
                <div

        <!-- API Integration Section -->
        <div class="content-card" id="integration">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-plug"></i> API Integration</h2>
                <p class="card-subtitle">Step-by-step guide to integrate M-Pesa API into your application.</p>
            </div>
            
            <div class="steps">
                <div class="step">
                    <h3 class="section-title">Register Your Application</h3>
                    <p class="section-content">Visit the Safaricom Developer Portal and create a new app to get your Consumer Key and Consumer Secret.</p>
                </div>
                
                <div class="step">
                    <h3 class="section-title">Set Up Callback URLs</h3>
                    <p class="section-content">Configure your callback URLs for receiving transaction notifications and responses.</p>
                </div>
                
                <div class="step">
                    <h3 class="section-title">Implement Authentication</h3>
                    <p class="section-content">Use your credentials to generate access tokens for API authentication.</p>
                </div>
                
                <div class="step">
                    <h3 class="section-title">Test in Sandbox</h3>
                    <p class="section-content">Use the sandbox environment to test your integration before going live.</p>
                </div>
                
                <div class="step">
                    <h3 class="section-title">Go Live</h3>
                    <p class="section-content">Switch to production credentials and start processing real transactions.</p>
                </div>
            </div>
        </div>

        <!-- Security Section -->
        <div class="content-card" id="security">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-shield-alt"></i> Security</h2>
                <p class="card-subtitle">Best practices for securing your M-Pesa API integration.</p>
            </div>
            
            <div class="alert warning">
                <strong>Important:</strong> Never expose your Consumer Secret in client-side code or public repositories.
            </div>
            
            <h3 class="section-title">Security Best Practices</h3>
            <ul class="section-content" style="padding-left: 20px;">
                <li>Store credentials securely using environment variables</li>
                <li>Implement proper access token management and refresh logic</li>
                <li>Use HTTPS for all API communications</li>
                <li>Validate callback signatures to ensure authenticity</li>
                <li>Implement rate limiting to prevent abuse</li>
                <li>Log all transactions for audit purposes</li>
                <li>Never store sensitive data in plain text</li>
            </ul>
            
            <h3 class="section-title">Password Security</h3>
            <p class="section-content">
                For STK Push and other services requiring passwords, use the security credential generated from your certificate. This password is generated by encoding your security credential with M-Pesa's public key.
            </p>
        </div>

        <!-- B2C Payments Section -->
        <div class="content-card" id="b2c">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-exchange-alt"></i> B2C Payment API</h2>
                <p class="card-subtitle">The Business to Customer (B2C) API enables businesses to send money to a customer's M-Pesa account.</p>
            </div>
            
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-url">/mpesa/b2c/v1/paymentrequest</span>
                </div>
                <div class="endpoint-body">
                    <h3 class="section-title">Request Parameters</h3>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>InitiatorName</td>
                                <td>string</td>
                                <td>The username of the M-Pesa B2C account API operator</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>SecurityCredential</td>
                                <td>string</td>
                                <td>Encrypted security credential</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>CommandID</td>
                                <td>string</td>
                                <td>Unique command for each transaction (BusinessPayment, SalaryPayment, PromotionPayment)</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Amount</td>
                                <td>integer</td>
                                <td>The amount being transacted</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>PartyA</td>
                                <td>string</td>
                                <td>Organization's shortcode</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>PartyB</td>
                                <td>string</td>
                                <td>Phone number receiving the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Remarks</td>
                                <td>string</td>
                                <td>Comments that are sent along with the transaction</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>QueueTimeOutURL</td>
                                <td>string</td>
                                <td>The timeout end-point that receives a timeout response</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>ResultURL</td>
                                <td>string</td>
                                <td>The end-point that receives the response</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Occasion</td>
                                <td>string</td>
                                <td>Optional parameter</td>
                                <td>No</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3 class="section-title">Example Request</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "InitiatorName": "testapi",
  "SecurityCredential": "encrypted_credential_here",
  "CommandID": "BusinessPayment",
  "Amount": 1500,
  "PartyA": 600123,
  "PartyB": 254722000000,
  "Remarks": "Salary payment",
  "QueueTimeOutURL": "https://yourapp.com/timeout",
  "ResultURL": "https://yourapp.com/result",
  "Occasion": "June Salary"
}</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- C2B Payments Section -->
        <div class="content-card" id="c2b">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-shopping-cart"></i> C2B Payment API</h2>
                <p class="card-subtitle">The Customer to Business (C2B) API enables businesses to receive payments from customers via M-Pesa.</p>
            </div>
            
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-url">/mpesa/c2b/v1/simulate</span>
                </div>
                <div class="endpoint-body">
                    <h3 class="section-title">Request Parameters</h3>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ShortCode</td>
                                <td>string</td>
                                <td>The short code of the organization</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>CommandID</td>
                                <td>string</td>
                                <td>Unique command for each transaction (CustomerPayBillOnline or CustomerBuyGoodsOnline)</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Amount</td>
                                <td>integer</td>
                                <td>The amount being transacted</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>Msisdn</td>
                                <td>string</td>
                                <td>The MSISDN sending the funds</td>
                                <td><span class="required">Yes</span></td>
                            </tr>
                            <tr>
                                <td>BillRefNumber</td>
                                <td>string</td>
                                <td>Bill Reference Number</td>
                                <td>No</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3 class="section-title">Example Request</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "ShortCode": 600123,
  "CommandID": "CustomerPayBillOnline",
  "Amount": 2500,
  "Msisdn": 254722000000,
  "BillRefNumber": "account123"
}</code></pre>
                    </div>
                    
                    <h3 class="section-title">Example Response</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "ConversationID": "AG_20210826_00006a4c2c8a5b5b7dc8",
  "OriginatorConversationID": "16813-67861-2",
  "ResponseDescription": "Accept the service request successfully."
}</code></pre>
                    </div>
                </div>
            </div>
        </div>

      
    
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-brand">
                <div class="logo">
                    <a href="https://drewsky-ltd.vercel.app/">Drewsky Softwares LTD</a>
                </div>
                <p class="tagline">Empowering Digital Payments & Fintech Solutions for the modern world.</p>
                <div class="social-icons">
                    <a href="https://www.facebook.com/yourcompany" aria-label="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.twitter.com/yourcompany" aria-label="Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://www.linkedin.com/company/yourcompany" aria-label="LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://www.instagram.com/yourcompany" aria-label="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
            </div>
            
            <div class="footer-contact">
                <h3 class="footer-heading">Contact Us</h3>
                <ul class="contact-info">
                    <li>
                        <i class="fas fa-map-marker-alt"></i>
                        <span>12511 Business Avenue, kilimani division, Nairobi, Kenya</span>
                    </li>
                    <li>
                        <i class="fas fa-envelope"></i>
                        <a href="mailto:info@yourcompany.com">info@drewskysoftwares.com</a>
                    </li>
                    <li>
                        <i class="fas fa-phone"></i>
                        <a href="tel:+254706576238">+254 706-576-238</a>
                    </li>
                    <li>
                        <i class="fas fa-clock"></i>
                        <span>Mon-Fri: 9:00 AM - 6:00 PM</span>
                    </li>
                </ul>
            </div>
            
            <div class="footer-links">
                <h3 class="footer-heading">Quick Links</h3>
                <ul class="quick-links">
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Our Services</a></li>
                    <li><a href="#">Solutions</a></li>
                    <li><a href="#">Case Studies</a></li>
                    <li><a href="#">Careers</a></li>
                    <li><a href="#">Support Center</a></li>
                </ul>
            </div>
            
            <div class="newsletter">
                <h3 class="footer-heading">Newsletter</h3>
                <p>Subscribe to our newsletter for the latest updates and offers.</p>
                <form class="subscribe-form">
                    <input type="email" placeholder="Your email address" required>
                    <button type="submit">
                        <i class="fas fa-paper-plane"></i>
                        Subscribe
                    </button>
                </form>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Drewsky Softwares Ltd. All rights reserved. | Privacy Policy | Terms of Service</p>
        </div>
    </footer>

</body>
</html>
    